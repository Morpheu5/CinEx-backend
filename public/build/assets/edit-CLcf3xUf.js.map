{"version":3,"file":"edit-CLcf3xUf.js","sources":["../../../resources/js/pages/admin/theatre/edit.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport AppLayout from '@/layouts/AppLayout.vue'\nimport { type BreadcrumbItem } from '@/types'\nimport { Head, router } from '@inertiajs/vue3'\nimport { useForm } from 'vee-validate'\nimport { Button } from '@/components/ui/button'\nimport { toTypedSchema } from '@vee-validate/zod'\nimport { toast } from 'vue-sonner'\nimport { route } from 'ziggy-js'\nimport TheatreForm from './_Form.vue'\nimport { theatreSchema, type TheatreSchema } from '@/pages/admin/theatre/_schema'\n\nconst props = defineProps<{\n    theatre: App.Data.TheatreData,\n}>();\n\nconst breadcrumbs: BreadcrumbItem[] = [\n    {\n        title: 'Admin',\n        href: route('admin'),\n    },\n    {\n        title: 'Theatres',\n        href: route('admin.theatre.index'),\n    },\n    {\n        title: props.theatre.name,\n        href: route('admin.theatre.show', props.theatre.id),\n    },\n];\n\nconst { handleSubmit } = useForm<TheatreSchema>({\n    validationSchema: toTypedSchema(theatreSchema),\n    initialValues: props.theatre,\n});\n\nconst submit = handleSubmit((values) => {\n    router.put(route('api.v1.theatre.update', props.theatre.id), values, {\n        preserveScroll: true,\n        onError: (errors) => {\n            toast.error(JSON.stringify(errors));\n        },\n        onSuccess: () => {\n            toast.success('Theatre edited!');\n        },\n    });\n});\n\nconst onDelete = () => {\n    if (confirm('This action cannot be undone. Are you sure you want to proceed?')) {\n        router.delete(route('api.v1.theatre.destroy', props.theatre.id), {\n            preserveScroll: true,\n            onSuccess: () => {},\n        });\n    }\n};\n</script>\n\n<template>\n    <Head title=\"Admin\" />\n\n    <AppLayout :breadcrumbs=\"breadcrumbs\">\n        <div class=\"p-4\">\n            <div class=\"py-3\">\n                <h1 class=\"mr-3 inline py-3 text-xl\">\n                    Editing theatre: <strong>{{ theatre.name }}</strong> (id: {{ theatre.id }})\n                </h1>\n            </div>\n            <form @submit.prevent=\"submit\">\n                <TheatreForm>\n                    <template #actions>\n                        <Button type=\"submit\" variant=\"default\">Save</Button>\n                        <div class=\"spacer w-full\"></div>\n                        <!--<Button type=\"button\" @click=\"onDelete\" variant=\"destructive\">Delete</Button>-->\n                    </template>\n                </TheatreForm>\n            </form>\n        </div>\n    </AppLayout>\n</template>\n"],"names":["props","__props","breadcrumbs","route","handleSubmit","useForm","toTypedSchema","theatreSchema","submit","values","router","errors","toast","_createVNode","_unref","Head","AppLayout","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","theatre","_createTextVNode","_cache","_withModifiers","args","TheatreForm","Button"],"mappings":"u8BAYA,MAAMA,EAAQC,EAIRC,EAAgC,CAClC,CACI,MAAO,QACP,KAAMC,EAAM,OAAO,CAAA,EAEvB,CACI,MAAO,WACP,KAAMA,EAAM,qBAAqB,CAAA,EAErC,CACI,MAAOH,EAAM,QAAQ,KACrB,KAAMG,EAAM,qBAAsBH,EAAM,QAAQ,EAAE,CAAA,CACtD,EAGE,CAAE,aAAAI,CAAA,EAAiBC,EAAuB,CAC5C,iBAAkBC,EAAcC,CAAa,EAC7C,cAAeP,EAAM,OAAA,CACxB,EAEKQ,EAASJ,EAAcK,GAAW,CACpCC,EAAO,IAAIP,EAAM,wBAAyBH,EAAM,QAAQ,EAAE,EAAGS,EAAQ,CACjE,eAAgB,GAChB,QAAUE,GAAW,CACjBC,EAAM,MAAM,KAAK,UAAUD,CAAM,CAAC,CACtC,EACA,UAAW,IAAM,CACbC,EAAM,QAAQ,iBAAiB,CACnC,CAAA,CACH,CACL,CAAC,8BAaGC,EAAsBC,EAAAC,CAAA,EAAA,CAAhB,MAAM,QAAO,EAEnBF,EAiBYG,EAAA,CAjBA,YAAAd,GAAwB,WAChC,IAeM,CAfNe,EAeM,MAfNC,EAeM,CAdFD,EAIM,MAJNE,EAIM,CAHFF,EAEK,KAFLG,EAEK,eAFgC,qBAChB,EAAA,GAAAH,EAAmC,SAAA,KAAAI,EAAxBC,EAAAA,QAAQ,IAAI,EAAA,CAAA,EAAYC,EAAA,SAAMF,EAAGC,EAAAA,QAAQ,EAAE,EAAG,KAC9E,CAAA,CAAA,KAEJL,EAQO,OAAA,CARA,SAAMO,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,UAAUX,EAAAN,CAAA,GAAAM,EAAAN,CAAA,EAAA,GAAAkB,CAAA,EAAM,CAAA,SAAA,CAAA,EAAA,GACzBb,EAMcc,EAAA,KAAA,CALC,UACP,IAAqD,CAArDd,EAAqDC,EAAAc,CAAA,EAAA,CAA7C,KAAK,SAAS,QAAQ,SAAA,aAAU,IAAIJ,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAAJ,OAAI,EAAA,CAAA,6BAC5CP,EAAiC,MAAA,CAA5B,MAAM,eAAA,EAAe,KAAA,EAAA,EAAA"}