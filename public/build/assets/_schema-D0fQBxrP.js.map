{"version":3,"file":"_schema-D0fQBxrP.js","sources":["../../../resources/js/components/Dropzone.vue","../../../resources/js/pages/admin/gallery/_schema.ts"],"sourcesContent":["<template>\n    <div\n        class=\"cursor-pointer rounded-xl border-2 border-dashed p-6 text-center select-none\"\n        @dragover.prevent=\"onDragOver\"\n        @dragleave.prevent=\"onDragLeave\"\n        @drop.prevent=\"onDrop\"\n        :class=\"dragging ? 'border-primary/60 bg-primary/5' : 'border-muted-foreground/30'\"\n        @click=\"pick\"\n    >\n        <input ref=\"input\" type=\"file\" :multiple=\"multiple\" :accept=\"accept\" class=\"hidden\" @change=\"onChange\" />\n        <slot>\n            <p class=\"text-sm\">Drag & drop photos here, or click to browse</p>\n        </slot>\n    </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref } from 'vue';\n\nconst props = defineProps<{ multiple?: boolean; accept?: string }>();\nconst emit = defineEmits<{ (e: 'files', files: File[]): void }>();\n\nconst input = ref<HTMLInputElement | null>(null);\nconst dragging = ref(false);\n\nfunction pick() {\n    input.value?.click();\n}\nfunction onChange(e: Event) {\n    const target = e.target as HTMLInputElement;\n    if (target.files) emit('files', Array.from(target.files));\n    target.value = '';\n}\nfunction onDragOver() {\n    dragging.value = true;\n}\nfunction onDragLeave() {\n    dragging.value = false;\n}\nfunction onDrop(e: DragEvent) {\n    dragging.value = false;\n    if (e.dataTransfer?.files?.length) emit('files', Array.from(e.dataTransfer.files));\n}\n</script>\n","import * as z from 'zod'\n\nconst numOptionalLat = z.preprocess(\n    (v) => (v === '' || v === null ? undefined : v),\n    z.coerce.number().min(-90).max(90).optional(),\n)\n\nconst numOptionalLon = z.preprocess(\n    (v) => (v === '' || v === null ? undefined : v),\n    z.coerce.number().min(-180).max(180).optional(),\n)\n\nexport const galleryBaseSchema = z.object({\n    name: z.string().min(1).max(255),\n    latitude: numOptionalLat,\n    longitude: numOptionalLon,\n})\n\nexport type GalleryBaseSchema = z.infer<typeof galleryBaseSchema>\n\nexport const galleryCreateSchema = galleryBaseSchema.extend({\n    photosphere_id: z.coerce\n        .number({ invalid_type_error: 'Please select a photosphere' })\n        .int()\n        .positive(),\n})\n\nexport type GalleryCreateSchema = z.infer<typeof galleryCreateSchema>\n"],"names":["emit","__emit","input","ref","dragging","pick","onChange","e","target","onDragOver","onDragLeave","onDrop","_createElementBlock","_normalizeClass","_createElementVNode","multiple","accept","_renderSlot","_ctx","_cache","numOptionalLat","z.preprocess","v","z.coerce","numOptionalLon","galleryBaseSchema","z.object","z.string","galleryCreateSchema"],"mappings":"gSAoBA,MAAMA,EAAOC,EAEPC,EAAQC,EAA6B,IAAI,EACzCC,EAAWD,EAAI,EAAK,EAE1B,SAASE,GAAO,CACZH,EAAM,OAAO,MAAA,CACjB,CACA,SAASI,EAASC,EAAU,CACxB,MAAMC,EAASD,EAAE,OACbC,EAAO,OAAOR,EAAK,QAAS,MAAM,KAAKQ,EAAO,KAAK,CAAC,EACxDA,EAAO,MAAQ,EACnB,CACA,SAASC,GAAa,CAClBL,EAAS,MAAQ,EACrB,CACA,SAASM,GAAc,CACnBN,EAAS,MAAQ,EACrB,CACA,SAASO,EAAOJ,EAAc,CAC1BH,EAAS,MAAQ,GACbG,EAAE,cAAc,OAAO,QAAQP,EAAK,QAAS,MAAM,KAAKO,EAAE,aAAa,KAAK,CAAC,CACrF,mBAzCIK,EAYM,MAAA,CAXF,MAAKC,EAAA,CAAC,+EAIET,EAAA,MAAQ,iCAAA,4BAAA,CAAA,EAHf,aAAkBK,EAAU,CAAA,SAAA,CAAA,EAC5B,cAAmBC,EAAW,CAAA,SAAA,CAAA,EAC9B,SAAcC,EAAM,CAAA,SAAA,CAAA,EAEpB,QAAON,CAAA,GAERS,EAAyG,QAAA,SAA9F,QAAJ,IAAIZ,EAAQ,KAAK,OAAQ,SAAUa,EAAAA,SAAW,OAAQC,EAAAA,OAAQ,MAAM,SAAU,SAAAV,CAAA,aACrFW,EAEOC,sBAFP,IAEO,CADHC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAL,EAAkE,IAAA,CAA/D,MAAM,WAAU,8CAA2C,EAAA,EAAA,YCTpEM,EAAiBC,EAClBC,GAAOA,IAAM,IAAMA,IAAM,KAAO,OAAYA,EAC7CC,EAAS,OAAA,EAAS,IAAI,GAAG,EAAE,IAAI,EAAE,EAAE,SAAA,CACvC,EAEMC,EAAiBH,EAClBC,GAAOA,IAAM,IAAMA,IAAM,KAAO,OAAYA,EAC7CC,EAAS,OAAA,EAAS,IAAI,IAAI,EAAE,IAAI,GAAG,EAAE,SAAA,CACzC,EAEaE,EAAoBC,EAAS,CACtC,KAAMC,EAAE,EAAS,IAAI,CAAC,EAAE,IAAI,GAAG,EAC/B,SAAUP,EACV,UAAWI,CACf,CAAC,EAIYI,EAAsBH,EAAkB,OAAO,CACxD,eAAgBF,EACX,OAAO,CAAE,mBAAoB,8BAA+B,EAC5D,IAAA,EACA,SAAA,CACT,CAAC"}