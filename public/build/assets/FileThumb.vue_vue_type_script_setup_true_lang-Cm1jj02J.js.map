{"version":3,"file":"FileThumb.vue_vue_type_script_setup_true_lang-Cm1jj02J.js","sources":["../../../resources/js/components/FileThumb.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed, toRef } from 'vue'\nimport { useObjectUrl } from '@vueuse/core'\nimport { Input } from '@/components/ui/input';\nimport { Button } from '@/components/ui/button';\nimport { route } from 'ziggy-js';\n\n// Props: either pass `file` (pending) OR `photo` (existing)\nconst props = defineProps<{\n    file?: File\n    photo?: { id: number; path: string; description: string }\n    showDescription?: boolean,\n    editable?: boolean,\n}>()\n\nconst emit = defineEmits<{\n    (e: 'remove'): void\n    (e: 'description-change', value: string): void\n}>()\n\n// reactive URL depending on which prop is passed\nconst localUrl = props.file ? useObjectUrl(toRef(props, 'file')) : null\nconst imageUrl = computed(() =>\n    props.file\n        ? localUrl?.value\n        : props.photo\n            ? route('photo.image', props.photo.id) // props.photo.path\n            : ''\n)\n\nconst onDescriptionInput = (e: Event) => {\n    emit('description-change', (e.target as HTMLInputElement).value)\n}\n</script>\n\n<template>\n    <div class=\"space-y-2 rounded border p-2\">\n        <img\n            v-if=\"imageUrl\"\n            :src=\"imageUrl\"\n            class=\"aspect-square w-full rounded object-cover\"\n            alt=\"\"\n        />\n\n        <Input\n            v-if=\"showDescription && photo && editable\"\n            :model-value=\"photo.description ?? ''\"\n            @change=\"onDescriptionInput\"\n            placeholder=\"Descriptionâ€¦\"\n        />\n\n        <p v-if=\"showDescription && photo && !editable\">{{ photo.description }}</p>\n\n        <Button v-if=\"editable\" type=\"button\" variant=\"destructive\" class=\"w-full\" @click=\"$emit('remove')\">\n            Remove\n        </Button>\n    </div>\n</template>\n"],"names":["props","__props","emit","__emit","localUrl","useObjectUrl","toRef","imageUrl","computed","route","onDescriptionInput","_openBlock","_createElementBlock","_hoisted_1","showDescription","photo","editable","_createBlock","_unref","Input","_hoisted_3","_toDisplayString","Button","$emit","_cache"],"mappings":"weAQA,MAAMA,EAAQC,EAORC,EAAOC,EAMPC,EAAWJ,EAAM,KAAOK,EAAaC,EAAMN,EAAO,MAAM,CAAC,EAAI,KAC7DO,EAAWC,EAAS,IACtBR,EAAM,KACAI,GAAU,MACVJ,EAAM,MACFS,EAAM,cAAeT,EAAM,MAAM,EAAE,EACnC,EAAA,EAGRU,EAAsB,GAAa,CACrCR,EAAK,qBAAuB,EAAE,OAA4B,KAAK,CACnE,gBAIIS,EAAA,EAAAC,EAoBM,MApBNC,EAoBM,CAlBQN,EAAA,WADVK,EAKE,MAAA,OAHG,IAAKL,EAAA,MACN,MAAM,4CACN,IAAI,EAAA,sBAIEO,EAAAA,iBAAmBC,EAAAA,OAASC,EAAAA,cADtCC,EAKEC,EAAAC,CAAA,EAAA,OAHG,cAAaJ,EAAAA,MAAM,aAAW,GAC9B,SAAQL,EACT,YAAY,cAAA,oCAGPI,EAAAA,iBAAmBC,EAAAA,OAAK,CAAKC,EAAAA,cAAtCJ,EAA2E,IAAAQ,EAAAC,EAAxBN,EAAAA,MAAM,WAAW,EAAA,CAAA,YAEtDC,EAAAA,cAAdC,EAESC,EAAAI,CAAA,EAAA,OAFe,KAAK,SAAS,QAAQ,cAAc,MAAM,SAAU,uBAAOC,EAAAA,MAAK,QAAA,EAAA,aAAY,IAEpGC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,GAFoG,WAEpG,EAAA,CAAA"}